<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.15.8"><title>Audio Programming For Motion Tracking Game</title><style>@font-face{font-family:SUSE Variable;font-style:normal;font-display:auto;font-weight:100 800;src:url(/_astro/suse-latin-wght-normal.DY2T0bO_.woff2) format("woff2-variations");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}:root{--primary-color: #00ff99;--secondary-color: #00bfff;--background-color: #1c1c1e;--card-background: rgba(0, 0, 0, .4);--featured-color: rgba(62, 62, 62, .504);--text-color: #e1e1e1;--card-shadow: rgba(0, 191, 255, .5);--hover-shadow: rgba(0, 255, 153, .7);--highlight-color: #fc6aa5;--font-suse: "SUSE Variable", sans-serif}.font-suse{font-family:var(--font-suse);font-optical-sizing:auto;font-style:normal;font-weight:400}html,body{height:100%;margin:0;padding:0;font-family:Roboto,sans-serif;color:var(--text-color);background:linear-gradient(135deg,var(--background-color) 25%,#262626 25%,#262626 50%,var(--background-color) 50%,var(--background-color) 75%,#262626 75%,#262626 100%);background-size:48.28px 48.28px;box-sizing:border-box}*,*:before,*:after{box-sizing:border-box}img{box-sizing:content-box;max-width:100%;height:auto}h1,h2,h3,h4,h5,h6{margin:0;font-family:var(--font-suse),sans-serif;font-weight:500}h4{font-size:1.15rem}h5{font-size:1.05rem}h6{font-size:1rem}body{font-family:var(--font-roboto),sans-serif}ul,ol{margin:1em 0;padding:0 0 0 20px}li{margin-bottom:.5em}a{color:var(--primary-color);text-decoration:none}a:visited{color:var(--highlight-color)}a:hover{color:var(--secondary-color)}a:active{color:var(--text-color)}.photo{position:relative;width:100%;height:200px;overflow:hidden}body{display:flex;flex-direction:column;min-height:100vh}main{flex:1 0 auto;padding-top:100px}
._header_u5f06_3{background:var(--background-color);border-bottom:solid 2px var(--primary-color);width:100%;position:fixed;top:0;left:0;right:0;z-index:1000;height:155px}._mobileHeader_u5f06_29{display:flex;flex-direction:column;padding:.5rem}._mobileTopBar_u5f06_41{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}._mobileAudioPlayer_u5f06_55{width:100%}._desktopHeader_u5f06_63{display:none}._title_u5f06_71{color:var(--primary-color);margin:0;font-weight:400;font-size:1.2rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._menuToggle_u5f06_91{background:none;border:none;cursor:pointer;padding:.5rem}._menuIcon_u5f06_105{display:block;width:25px;height:3px;background-color:var(--primary-color);position:relative;transition:background-color .3s}._menuIcon_u5f06_105:before,._menuIcon_u5f06_105:after{content:"";position:absolute;width:100%;height:3px;background-color:var(--primary-color);transition:transform .3s}._menuIcon_u5f06_105:before{top:-8px}._menuIcon_u5f06_105:after{bottom:-8px}._menuToggle_u5f06_91[aria-expanded=true] ._menuIcon_u5f06_105{background-color:transparent}._menuToggle_u5f06_91[aria-expanded=true] ._menuIcon_u5f06_105:before{transform:translateY(8px) rotate(45deg)}._menuToggle_u5f06_91[aria-expanded=true] ._menuIcon_u5f06_105:after{transform:translateY(-8px) rotate(-45deg)}._navbar_u5f06_183{display:none;flex-direction:column;gap:1rem;padding:1rem;background-color:#161718}._navbar_u5f06_183._open_u5f06_199{display:flex}._navbar_u5f06_183 a{color:var(--primary-color);text-decoration:none;padding:.5rem;transition:color .3s}._navbar_u5f06_183 a:hover{color:var(--secondary-color)}._mobileLanguageSelector_u5f06_229,._desktopLanguageSelector_u5f06_231{display:flex;gap:.5rem}._mobileLanguageSelector_u5f06_229 a,._desktopLanguageSelector_u5f06_231 a{color:var(--text-color);text-decoration:none;padding:.25rem .5rem;border:1px solid var(--primary-color);border-radius:4px;transition:background-color .3s ease,color .3s ease}._mobileLanguageSelector_u5f06_229 a:hover,._desktopLanguageSelector_u5f06_231 a:hover{background-color:var(--primary-color);color:var(--background-color)}._open_u5f06_199{display:block}@media (min-width: 768px){._header_u5f06_3{height:165px}._mobileHeader_u5f06_29{display:none}._desktopHeader_u5f06_63{display:block}._desktopTopBar_u5f06_305{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem}._audioPlayerContainer_u5f06_319{flex:1;max-width:400px}._title_u5f06_71{flex:1;font-size:1.5rem;text-align:center}._desktopLanguageSelector_u5f06_231{flex:1;justify-content:flex-end}._navbar_u5f06_183{display:flex;flex-direction:row;justify-content:center;background-color:transparent;padding:.5rem 0}._navbar_u5f06_183 a{margin:0 .5rem}._mobileLanguageSelector_u5f06_229{display:none}}@media (min-width: 1024px){._audioPlayerContainer_u5f06_319{max-width:500px}._title_u5f06_71{font-size:2rem}}._footer_1ikox_1{flex-shrink:0;background-color:var(--background-color);color:var(--text-color);padding:1rem;text-align:center;position:relative;overflow:hidden}._content_1ikox_21{position:relative;z-index:1}._copyright_1ikox_31,._license_1ikox_31{margin:.5rem 0}._license_1ikox_31 a{color:var(--primary-color);text-decoration:none}._license_1ikox_31 a:hover{text-decoration:underline}@media (max-width: 768px){._footer_1ikox_1{padding:.5rem}}#nav-placeholder[data-astro-cid-sckkx6r4]{height:155px}@media (min-width: 768px){#nav-placeholder[data-astro-cid-sckkx6r4]{height:165px}}
._projectDetailSection_pvvo9_1{padding:2rem;display:flex;flex-direction:column;align-items:center;color:var(--text-color);max-width:800px;margin:2rem auto;background-color:#0006;border-radius:10px;margin-top:100px}._pageTitle_pvvo9_31{color:var(--primary-color);text-align:center;margin-bottom:30px}._metaInfo_pvvo9_43{text-align:center;margin-bottom:20px}._metaInfo_pvvo9_43 p{margin:5px 0}._content_pvvo9_61{max-width:800px;text-align:justify;line-height:1.6;padding:0 20px}._content_pvvo9_61 p{margin-bottom:1rem}._media_pvvo9_85{width:100%;max-width:800px;margin:20px 0}._media_pvvo9_85 img,._media_pvvo9_85 video{width:100%;border-radius:5px;box-shadow:0 3px 7px -1px #0000001a}._techContainer_pvvo9_109{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:10px}._techTag_pvvo9_123{background-color:var(--primary-color);color:var(--background-color);padding:5px 10px;border-radius:3px;font-size:.875rem;font-weight:700;text-transform:uppercase}._buttonContainer_pvvo9_143{display:flex;gap:10px;margin-top:20px}._projectButton_pvvo9_155,._repoButton_pvvo9_155{background-color:var(--primary-color);color:var(--background-color);border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-size:.875rem;font-weight:700;text-transform:uppercase;transition:background-color .3s,color .3s}._projectButton_pvvo9_155:visited,._repoButton_pvvo9_155:visited{color:var(--background-color)}._projectButton_pvvo9_155:hover,._repoButton_pvvo9_155:hover{background-color:var(--secondary-color);color:var(--text-color)}@media (max-width: 800px){._projectDetailSection_pvvo9_1{margin:2rem 1rem}}@media (max-width: 800px){._projectDetailSection_pvvo9_1{margin:1rem;padding:1rem;margin-top:90px}._content_pvvo9_61{padding:0 10px;max-width:100%}._media_pvvo9_85 img,._media_pvvo9_85 video{max-width:100%;height:auto}}
code[class*=language-],pre[class*=language-]{background:#27212e;color:#fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#eb64b927;color:inherit}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#eb64b927;color:inherit}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.5em}:not(pre)>code[class*=language-]{padding:.2em .3em;border-radius:.5rem;white-space:normal}.token.comment,.token.prolog,.token.cdata{color:#91889b}.token.punctuation{color:#7b6995}.token.builtin,.token.constant,.token.boolean{color:#ffe261}.token.number{color:#b381c5}.token.important,.token.atrule,.token.property,.token.keyword{color:#40b4c4}.token.doctype,.token.operator,.token.inserted,.token.tag,.token.class-name,.token.symbol{color:#74dfc4}.token.attr-name,.token.function,.token.deleted,.token.selector{color:#eb64b9}.token.attr-value,.token.regex,.token.char,.token.string{color:#b4dce7}.token.entity,.token.url,.token.variable{color:#fff}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.7}@media (max-width: 768px){code[class*=language-],pre[class*=language-]{font-size:.9em}pre[class*=language-]{padding:.5em}}
</style>
<link rel="stylesheet" href="/_astro/AudioPlayerHeader.CBRw2Vbg.css"></head> <body data-astro-cid-sckkx6r4> <header class="_header_u5f06_3"> <div class="_mobileHeader_u5f06_29"> <div class="_mobileTopBar_u5f06_41"> <button class="_menuToggle_u5f06_91" data-menu-toggle aria-expanded="false" aria-label="Toggle menu"> <span class="_menuIcon_u5f06_105"></span> </button> <h1 class="_title_u5f06_71">Thomas Ortega - Portfolio</h1> </div> <div class="_mobileAudioPlayer_u5f06_55"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1U6ez6" component-url="/_astro/AudioPlayerHeader.B4H2ykJF.js" component-export="default" renderer-url="/_astro/client.DRsCJ7vl.js" props="{}" ssr="" client="only" opts="{&quot;name&quot;:&quot;AudioPlayerHeader&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> </div> <div class="_desktopHeader_u5f06_63"> <div class="_desktopTopBar_u5f06_305"> <div class="_audioPlayerContainer_u5f06_319"> <astro-island uid="1U6ez6" component-url="/_astro/AudioPlayerHeader.B4H2ykJF.js" component-export="default" renderer-url="/_astro/client.DRsCJ7vl.js" props="{}" ssr="" client="only" opts="{&quot;name&quot;:&quot;AudioPlayerHeader&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> <h1 class="_title_u5f06_71">Thomas Ortega - Portfolio</h1> <div class="_desktopLanguageSelector_u5f06_231"> <a href="/en/projects/audio-programming-motion-tracking-game/" data-lang="en">EN</a> <a href="/es/projects/audio-programming-motion-tracking-game/" data-lang="es">ES</a> </div> </div> </div> <nav class="_navbar_u5f06_183" data-main-nav> <a href="/en/">Home</a> <a href="/en/projects/">Projects</a> <a href="/en/blog/">Blog</a> <a href="/en/about/">About Me</a> <a href="/en/resume/">Resume</a> <div class="_mobileLanguageSelector_u5f06_229"> <a href="/en/projects/audio-programming-motion-tracking-game/" data-lang="en">EN</a> <a href="/es/projects/audio-programming-motion-tracking-game/" data-lang="es">ES</a> </div> </nav> </header> <script>(function(){const styles = {"header":"_header_u5f06_3","mobileHeader":"_mobileHeader_u5f06_29","mobileTopBar":"_mobileTopBar_u5f06_41","mobileAudioPlayer":"_mobileAudioPlayer_u5f06_55","desktopHeader":"_desktopHeader_u5f06_63","title":"_title_u5f06_71","menuToggle":"_menuToggle_u5f06_91","menuIcon":"_menuIcon_u5f06_105","navbar":"_navbar_u5f06_183","open":"_open_u5f06_199","mobileLanguageSelector":"_mobileLanguageSelector_u5f06_229","desktopLanguageSelector":"_desktopLanguageSelector_u5f06_231","desktopTopBar":"_desktopTopBar_u5f06_305","audioPlayerContainer":"_audioPlayerContainer_u5f06_319"};

  function setupNavbar() {
    const menuToggle = document.querySelector('[data-menu-toggle]');
    const mainNav = document.querySelector('[data-main-nav]');

    if (menuToggle && mainNav) {
      menuToggle.addEventListener('click', () => {
        const expanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
        menuToggle.setAttribute('aria-expanded', expanded ? 'false' : 'true');
        mainNav.classList.toggle(styles.open);
      });
    }
  }

  // Run the setup function when the DOM is ready
  document.addEventListener('astro:page-load', setupNavbar);
  // Also run it immediately in case the page has already loaded
  setupNavbar();
})();</script> <script>(function(){const lang = "en";
const pageType = "project";
const slug = "audio-programming-motion-tracking-game";
const projectMap = {"northwind-port-to-oracle-db":{"en":1,"es":2},"class-projects":{"en":3,"es":4},"audio-programming-motion-tracking-game":{"en":7}};
const blogMap = undefined;

    document.addEventListener('astro:page-load', () => {
      const detailSection = document.querySelector(`.${pageType}DetailSection`);
      if (detailSection instanceof HTMLElement) {
      //  const itemId = detailSection.dataset.itemId;
      //  const alternateIds = JSON.parse(detailSection.dataset.alternateIds || '{}');
        
        const langSwitchers = document.querySelectorAll('.dropdown-content a');
        langSwitchers.forEach(switcher => {
          switcher.addEventListener('click', (e) => {
            e.preventDefault();
            if (switcher instanceof HTMLElement) {
              const targetLang = switcher.textContent?.toLowerCase();
              if (targetLang) {
              //  const targetId = alternateIds[targetLang] || itemId;
                const itemMap = pageType === 'project' ? projectMap : blogMap;
                if (itemMap && itemMap[slug]) {
                  window.location.href = `/${targetLang}/${pageType}s/${slug}/`;
                }
              }
            }
          });
        });
      }
    });
  })();</script> <div id="nav-placeholder" data-astro-cid-sckkx6r4></div> <main data-astro-cid-sckkx6r4> <section class="_projectDetailSection_pvvo9_1" data-slug="audio-programming-motion-tracking-game" data-project-map="{&#34;northwind-port-to-oracle-db&#34;:{&#34;en&#34;:1,&#34;es&#34;:2},&#34;class-projects&#34;:{&#34;en&#34;:3,&#34;es&#34;:4},&#34;audio-programming-motion-tracking-game&#34;:{&#34;en&#34;:7}}"> <h1 class="_pageTitle_pvvo9_31">Audio Programming For Motion Tracking Game</h1> <div class="_media_pvvo9_85"> <img src="/images/strapi_thumb_866599fb18.gif" alt="Audio Programming For Motion Tracking Game"> </div> <div class="_techContainer_pvvo9_109"> <span class="_techTag_pvvo9_123" style="background-color: #00BFFF;"> C# </span><span class="_techTag_pvvo9_123" style="background-color: #9b5de5;"> Unity </span> </div> <div class="_content_pvvo9_61"> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1MWc3V" prefix="r0" component-url="/_astro/BlockRendererClient.S5x_6igL.js" component-export="default" renderer-url="/_astro/client.DRsCJ7vl.js" props="{&quot;content&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Hello there! I wanted to share some experiences from my three month-long internship at Turku Game Lab in Finland. I had the chance to work in a project that I found quite interesting, it combined motion tracking with audio programming. As someone who&#39;s both passionate about programming and music, this was a great opportunity to dive into audio programming, something I&#39;d been wanting to try for a while.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;What Was the Project About?&quot;]}]]],&quot;level&quot;:[0,1]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The game we were working on was something that could come from the WarioWare series. In a circus-themed scene, players would act as a clown, striking poses in time with the music. We used some kind of Kinect-style cameras for motion tracking.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;image&quot;],&quot;image&quot;:[0,{&quot;name&quot;:[0,&quot;demo.gif&quot;],&quot;alternativeText&quot;:[0,&quot;game play of motion tracking showing a player in sync with the avatar while a cut-out approaches&quot;],&quot;url&quot;:[0,&quot;http://localhost:8082/uploads/demo_075df73a00.gif&quot;],&quot;caption&quot;:[0,&quot;gameplay of circus motion tracking game&quot;],&quot;width&quot;:[0,800],&quot;height&quot;:[0,453],&quot;formats&quot;:[0,{&quot;thumbnail&quot;:[0,{&quot;name&quot;:[0,&quot;thumbnail_demo.gif&quot;],&quot;hash&quot;:[0,&quot;thumbnail_demo_075df73a00&quot;],&quot;ext&quot;:[0,&quot;.gif&quot;],&quot;mime&quot;:[0,&quot;image/gif&quot;],&quot;path&quot;:[0,null],&quot;width&quot;:[0,245],&quot;height&quot;:[0,139],&quot;size&quot;:[0,24.29],&quot;sizeInBytes&quot;:[0,24286],&quot;url&quot;:[0,&quot;/uploads/thumbnail_demo_075df73a00.gif&quot;]}],&quot;small&quot;:[0,{&quot;name&quot;:[0,&quot;small_demo.gif&quot;],&quot;hash&quot;:[0,&quot;small_demo_075df73a00&quot;],&quot;ext&quot;:[0,&quot;.gif&quot;],&quot;mime&quot;:[0,&quot;image/gif&quot;],&quot;path&quot;:[0,null],&quot;width&quot;:[0,500],&quot;height&quot;:[0,283],&quot;size&quot;:[0,91.64],&quot;sizeInBytes&quot;:[0,91636],&quot;url&quot;:[0,&quot;/uploads/small_demo_075df73a00.gif&quot;]}],&quot;medium&quot;:[0,{&quot;name&quot;:[0,&quot;medium_demo.gif&quot;],&quot;hash&quot;:[0,&quot;medium_demo_075df73a00&quot;],&quot;ext&quot;:[0,&quot;.gif&quot;],&quot;mime&quot;:[0,&quot;image/gif&quot;],&quot;path&quot;:[0,null],&quot;width&quot;:[0,750],&quot;height&quot;:[0,425],&quot;size&quot;:[0,214.48],&quot;sizeInBytes&quot;:[0,214478],&quot;url&quot;:[0,&quot;/uploads/medium_demo_075df73a00.gif&quot;]}]}],&quot;hash&quot;:[0,&quot;demo_075df73a00&quot;],&quot;ext&quot;:[0,&quot;.gif&quot;],&quot;mime&quot;:[0,&quot;image/gif&quot;],&quot;size&quot;:[0,3388.02],&quot;previewUrl&quot;:[0,null],&quot;provider&quot;:[0,&quot;local&quot;],&quot;provider_metadata&quot;:[0,null],&quot;createdAt&quot;:[0,&quot;2024-10-17T17:37:20.109Z&quot;],&quot;updatedAt&quot;:[0,&quot;2024-10-17T18:03:16.376Z&quot;]}],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The basic idea was this: As music played, these cot-out shapes would move towards the player&#39;s on-screen avatar. The player had to match the pose of the approaching cut-out and hold for about half a second. If they got it, the cut.out would speed up and clear out, making way for the next one. The idea was setting up a continuous, rhythmic flow of movement.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;How I Got Involved with Audio Programming&quot;]}]]],&quot;level&quot;:[0,1]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Initially, the game lacked a rhythmic element. The team had successfully implemented motion tracking and collision detection for the cut-outs. During a project review our tutor came to test the game, discuss technical challenges, and brainstrom new ideas.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;At this time, I had recently completed a &quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://learn.unity.com/course/create-with-code-1&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Unity course&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot; to familiarize myself with game programming and the Unity Editor. This course was key in introducing me to common game development concepts and encouraged experimentation by adding features the mini-games completed in each section.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;While my colleagues were brainstorming ideas just a few steps away from me, I was already tinkering with audio programming and following some tutorials that I will mention later. I saw an opportunity to apply what I knew about audio and explore this area further before my final vocational training project. When I overheard them discussing the need for music to enhance the game, I realized I could contribute. I approached the team and explained that I had been working on some scripts that, with some refinement, could provide the rhythmic element they were looking for.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;I ended assigned to the project and created two main scripts:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;1. A beat synchronization script.&quot;]}]]],&quot;level&quot;:[0,2]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The goal of this scrpt was timing events with the music. Given a BPM (beats per minute) and an audio source, it could generate events that synched up with specific beats. Here&#39;s how it worked:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list&quot;],&quot;format&quot;:[0,&quot;unordered&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The script took the BPM of the song as input.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;It calculated the time between beats (60 seconds / BPM).&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Using Unity&#39;s &quot;]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;AudioSource.timeSamples&quot;],&quot;code&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot; property, it tracked the current playback position.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;By dividing the current playback position by the samples per beat, it could determine when a beat occurred.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The script allowed for different subdivisions of the beat (quarter notes, eighth notes, etc.) by using multipliers.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Events could be triggered on specific beats or subdivisions, allowing for precise timing of game elements.&quot;]}]]]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;In our game, we used this to release the cut-out shapes into the scene at specific musical intervals. It added that rhythmic element the team was looking for, making the gameplay feel more connected to the music.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Improvements on the beat tracking script&quot;]}]]],&quot;level&quot;:[0,3]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;As I worked with the script, I realized two key improvements were needed:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;a) &quot;]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Start Delay&quot;],&quot;bold&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;: Many recordings don&#39;t begin precisely on the first beat, To account for this, I implemented a start delay feature using a coroutine:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;code&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;[SerializeField] private float _startDelay = 0f;\nprivate bool _isReadyToTrackBeats = false;\n\nprivate void Start()\n{\n    StartCoroutine(StartAfterDelay(_startDelay));\n}\n\nprivate IEnumerator StartAfterDelay(float delay)\n{\n    yield return new WaitForSeconds(delay);\n    _isReadyToTrackBeats = true;\n}&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;This allows us to precisely synchronize the beat tracking with the actual start of the rhythmic elements in the music, even if there&#39;s an intro or lead-in.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;b) &quot;]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Phase Offset&quot;],&quot;bold&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;: The original script triggered beats at the end of each rhythmic division. To provide more flexibility and accurate synchronization, I implemented a phase offset:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;code&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;[SerializeField] private float _phaseOffset = 0f;\n\npublic void CheckForNewPulse(float pulse)\n{\n    int currentPulse = Mathf.FloorToInt(pulse + _phaseOffset);\n    if (currentPulse != _lastPulse) \n    {\n        _lastPulse = currentPulse;\n        _trigger.Invoke();\n    }\n}&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;This offset allows for precise control over when the beat triggers occur. For example, in a 4/4 time signature, setting the offset to 0.25 would shift the trigger to the third beat of the measure, while 0.5 would move it to the second beat. This feature opened up creative possibilities, such as emphasizing beats 2 and 4 in popular music genres&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;2. An audio visualization script.&quot;]}]]],&quot;level&quot;:[0,2]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;This script analyzes the audio stream in real-time and using that data to drive visual elements. Here&#39;s the breakdown:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list&quot;],&quot;format&quot;:[0,&quot;unordered&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The script used Unity&#39;s &quot;]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;AudioSource.GetSpectrumData() &quot;],&quot;code&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;method to get frequency data from the audio.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;This raw data was then processed into more manageable frequency bands (I used 8 bands for our purposes).&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Each band represented a range of frequencies, from low (bass) to high (treble).&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The script smoothed out the data to prevent jarring visual changes.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;This processed data could then be used to drive various visual elements in the scene.&quot;]}]]]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;For testing, I set up a scene with 8 cubes. The height of each cube would change in response to its corresponding frequency band - the leftmost cube reacted to the lowest frequencies, while the rightmost responded to the highest frequencies.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Improvements to the visualization script&quot;]}]]],&quot;level&quot;:[0,3]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;While working on this script, I realized that the way the audio bands reacted to different frequencies didn&#39;t match what I was used to seeing in music production equalizers. After some research, I discovered that our perception of frequencies is logarithmic, and there&#39;s a principle called the Weber-Fechner law to consider.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;To account for this, I modified the &quot;]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;MakeFrequencyBands()&quot;],&quot;code&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot; method:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;code&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;for (int i = 0; i &lt; 8; i++)\n{\n    float average = 0;\n    int sampleCount = (int)Mathf.Pow(2, i) * 2;\n\n    if (i == 7)\n        sampleCount += 2;\n\n    for (int j = 0; j &lt; sampleCount; j++)\n    {\n        // ... (channel selection code)\n        average += sample * (count + 1);\n        count++;\n    }\n\n    average /= count;\n    _freqBand[i] = average * 10;\n}&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;This modification uses &quot;]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Mathf.Pow(2, i) * 2&quot;],&quot;code&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot; to calculate the number of samples for each frequency band. This results in exponentially wider bands as the frequency increases, better matching our perception of sound.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;In the final game, we used this script to animate speaker cabinets in the background of the circus scene. Since the music had prominent drum beats, you could really see the speakers pulsing with the rhythm, making the scene more angaging.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Challenges and Learning Experiences&quot;]}]]],&quot;level&quot;:[0,1]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;While working on these scripts, I encountered a few challenges:&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list&quot;],&quot;format&quot;:[0,&quot;ordered&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Precision in Beat Detection&quot;],&quot;bold&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;: Ensuring that the beat detection was accurate and synchronized was tricky. Relying on the main update thread of Unity might not give a consistent sync if the synchronization has to be maintained for long.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Smooth Audio Visualization&quot;],&quot;bold&quot;:[0,true]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;: Audio systems often times come equalizers you can tune, they usually show some bars with different  frequencies, if the audio data is not post-processed the visualization will look too jarring to be useful.&quot;]}]]]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Through overcoming these challenges, I gained a deeper understanding of how audio is handled in game environments, the importance of optimization in real-time applications, and the intricacies of creating responsive, music-driven gameplay elements.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Conclusions&quot;]}]]],&quot;level&quot;:[0,1]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;The process of improving these scripts helped me solidify what I was learning, what could end up as a forgotten scripts after a project became instead a step in my endeavor to become a professional with an insight of audio programming or programming oriented to music applications.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;To make this writing brief I avoided topics that appeared while testing the scripts and during my research, the approach of the scripts is quite naive, specially the beat synchronization, in general audio is managed in its own thread and this is true for Unity, to make a robust synchronization that can hold over time, one of the solutions is to create a clock capable of keeping the audio and gameplay in sync, however, this is not a task that was feasible to address for the development of this project, but if you&#39;re curious, there&#39;s a couple of open source rhythm games that I strongly recommend, they&#39;re super fun but also open source, I&#39;m talking about &quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://github.com/stepmania&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;StepMania&quot;]}]]]}],[0,{&quot;text&quot;:[0,&quot; and the &quot;],&quot;type&quot;:[0,&quot;text&quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://github.com/ppy/osu-framework&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Osu-framework&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;. &quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;heading&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Citations&quot;]}]]],&quot;level&quot;:[0,1]}],[0,{&quot;type&quot;:[0,&quot;list&quot;],&quot;format&quot;:[0,&quot;unordered&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;You can check Peer&#39;s Play &quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://www.youtube.com/watch?v=5pmoP1ZOoNs&amp;list=PL3POsQzaCw53p2tA6AWf7_AWgplskR0Vo&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;playlist&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot; for the basic implementation of the visualization script.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;To understand how to track beats you can check b3agz&#39; &quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://www.youtube.com/watch?v=gIjajeyjRfE&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;video&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;.&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;list-item&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;You can read about the Weber-Fechner Law in &quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://en.wikipedia.org/wiki/Weber%E2%80%93Fechner_law&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Wikipedia&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;, that&#39;s what I used as reference.&quot;]}]]]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Lastly, any of this wouldn&#39;t be possible without my colleges Mika, Mario and Lucas, working with you guys was a pleasure and hopefully we&#39;ll work together in another opportunity. Also thanks to our tutors and seniors back at &quot;]}],[0,{&quot;type&quot;:[0,&quot;link&quot;],&quot;url&quot;:[0,&quot;https://www.turkugamelab.fi/&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;Turku Game Lab&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;, for me this experience was an eye-opener. &quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;&quot;]}]]]}],[0,{&quot;type&quot;:[0,&quot;paragraph&quot;],&quot;children&quot;:[1,[[0,{&quot;type&quot;:[0,&quot;text&quot;],&quot;text&quot;:[0,&quot;PS: Repo is currently empty, but I plan to upload it soon.&quot;]}]]]}]]]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;BlockRendererClient&quot;,&quot;value&quot;:true}" await-children=""><p>Hello there! I wanted to share some experiences from my three month-long internship at Turku Game Lab in Finland. I had the chance to work in a project that I found quite interesting, it combined motion tracking with audio programming. As someone who&#x27;s both passionate about programming and music, this was a great opportunity to dive into audio programming, something I&#x27;d been wanting to try for a while.</p><h1>What Was the Project About?</h1><p>The game we were working on was something that could come from the WarioWare series. In a circus-themed scene, players would act as a clown, striking poses in time with the music. We used some kind of Kinect-style cameras for motion tracking.</p><img src="/images/strapi_demo_075df73a00.gif" alt="game play of motion tracking showing a player in sync with the avatar while a cut-out approaches"/><p>The basic idea was this: As music played, these cot-out shapes would move towards the player&#x27;s on-screen avatar. The player had to match the pose of the approaching cut-out and hold for about half a second. If they got it, the cut.out would speed up and clear out, making way for the next one. The idea was setting up a continuous, rhythmic flow of movement.</p><h1>How I Got Involved with Audio Programming</h1><p>Initially, the game lacked a rhythmic element. The team had successfully implemented motion tracking and collision detection for the cut-outs. During a project review our tutor came to test the game, discuss technical challenges, and brainstrom new ideas.</p><p>At this time, I had recently completed a <a href="https://learn.unity.com/course/create-with-code-1">Unity course</a> to familiarize myself with game programming and the Unity Editor. This course was key in introducing me to common game development concepts and encouraged experimentation by adding features the mini-games completed in each section.</p><p>While my colleagues were brainstorming ideas just a few steps away from me, I was already tinkering with audio programming and following some tutorials that I will mention later. I saw an opportunity to apply what I knew about audio and explore this area further before my final vocational training project. When I overheard them discussing the need for music to enhance the game, I realized I could contribute. I approached the team and explained that I had been working on some scripts that, with some refinement, could provide the rhythmic element they were looking for.</p><p>I ended assigned to the project and created two main scripts:</p><h2>1. A beat synchronization script.</h2><p>The goal of this scrpt was timing events with the music. Given a BPM (beats per minute) and an audio source, it could generate events that synched up with specific beats. Here&#x27;s how it worked:</p><ul><li>The script took the BPM of the song as input.</li><li>It calculated the time between beats (60 seconds / BPM).</li><li>Using Unity&#x27;s <code>AudioSource.timeSamples</code> property, it tracked the current playback position.</li><li>By dividing the current playback position by the samples per beat, it could determine when a beat occurred.</li><li>The script allowed for different subdivisions of the beat (quarter notes, eighth notes, etc.) by using multipliers.</li><li>Events could be triggered on specific beats or subdivisions, allowing for precise timing of game elements.</li></ul><p>In our game, we used this to release the cut-out shapes into the scene at specific musical intervals. It added that rhythmic element the team was looking for, making the gameplay feel more connected to the music.</p><h3>Improvements on the beat tracking script</h3><p>As I worked with the script, I realized two key improvements were needed:</p><p>a) <strong>Start Delay</strong>: Many recordings don&#x27;t begin precisely on the first beat, To account for this, I implemented a start delay feature using a coroutine:</p><pre><code class="language-javascript">[SerializeField] private float _startDelay = 0f;
private bool _isReadyToTrackBeats = false;

private void Start()
{
    StartCoroutine(StartAfterDelay(_startDelay));
}

private IEnumerator StartAfterDelay(float delay)
{
    yield return new WaitForSeconds(delay);
    _isReadyToTrackBeats = true;
}</code></pre><p>This allows us to precisely synchronize the beat tracking with the actual start of the rhythmic elements in the music, even if there&#x27;s an intro or lead-in.</p><p>b) <strong>Phase Offset</strong>: The original script triggered beats at the end of each rhythmic division. To provide more flexibility and accurate synchronization, I implemented a phase offset:</p><pre><code class="language-javascript">[SerializeField] private float _phaseOffset = 0f;

public void CheckForNewPulse(float pulse)
{
    int currentPulse = Mathf.FloorToInt(pulse + _phaseOffset);
    if (currentPulse != _lastPulse) 
    {
        _lastPulse = currentPulse;
        _trigger.Invoke();
    }
}</code></pre><p>This offset allows for precise control over when the beat triggers occur. For example, in a 4/4 time signature, setting the offset to 0.25 would shift the trigger to the third beat of the measure, while 0.5 would move it to the second beat. This feature opened up creative possibilities, such as emphasizing beats 2 and 4 in popular music genres</p><h2>2. An audio visualization script.</h2><p>This script analyzes the audio stream in real-time and using that data to drive visual elements. Here&#x27;s the breakdown:</p><ul><li>The script used Unity&#x27;s <code>AudioSource.GetSpectrumData() </code>method to get frequency data from the audio.</li><li>This raw data was then processed into more manageable frequency bands (I used 8 bands for our purposes).</li><li>Each band represented a range of frequencies, from low (bass) to high (treble).</li><li>The script smoothed out the data to prevent jarring visual changes.</li><li>This processed data could then be used to drive various visual elements in the scene.</li></ul><p>For testing, I set up a scene with 8 cubes. The height of each cube would change in response to its corresponding frequency band - the leftmost cube reacted to the lowest frequencies, while the rightmost responded to the highest frequencies.</p><h3>Improvements to the visualization script</h3><p>While working on this script, I realized that the way the audio bands reacted to different frequencies didn&#x27;t match what I was used to seeing in music production equalizers. After some research, I discovered that our perception of frequencies is logarithmic, and there&#x27;s a principle called the Weber-Fechner law to consider.</p><p>To account for this, I modified the <code>MakeFrequencyBands()</code> method:</p><pre><code class="language-javascript">for (int i = 0; i &lt; 8; i++)
{
    float average = 0;
    int sampleCount = (int)Mathf.Pow(2, i) * 2;

    if (i == 7)
        sampleCount += 2;

    for (int j = 0; j &lt; sampleCount; j++)
    {
        // ... (channel selection code)
        average += sample * (count + 1);
        count++;
    }

    average /= count;
    _freqBand[i] = average * 10;
}</code></pre><p>This modification uses <code>Mathf.Pow(2, i) * 2</code> to calculate the number of samples for each frequency band. This results in exponentially wider bands as the frequency increases, better matching our perception of sound.</p><p>In the final game, we used this script to animate speaker cabinets in the background of the circus scene. Since the music had prominent drum beats, you could really see the speakers pulsing with the rhythm, making the scene more angaging.</p><h1>Challenges and Learning Experiences</h1><p>While working on these scripts, I encountered a few challenges:</p><ol><li><strong>Precision in Beat Detection</strong>: Ensuring that the beat detection was accurate and synchronized was tricky. Relying on the main update thread of Unity might not give a consistent sync if the synchronization has to be maintained for long.</li><li><strong>Smooth Audio Visualization</strong>: Audio systems often times come equalizers you can tune, they usually show some bars with different  frequencies, if the audio data is not post-processed the visualization will look too jarring to be useful.</li></ol><p>Through overcoming these challenges, I gained a deeper understanding of how audio is handled in game environments, the importance of optimization in real-time applications, and the intricacies of creating responsive, music-driven gameplay elements.</p><h1>Conclusions</h1><p>The process of improving these scripts helped me solidify what I was learning, what could end up as a forgotten scripts after a project became instead a step in my endeavor to become a professional with an insight of audio programming or programming oriented to music applications.</p><p>To make this writing brief I avoided topics that appeared while testing the scripts and during my research, the approach of the scripts is quite naive, specially the beat synchronization, in general audio is managed in its own thread and this is true for Unity, to make a robust synchronization that can hold over time, one of the solutions is to create a clock capable of keeping the audio and gameplay in sync, however, this is not a task that was feasible to address for the development of this project, but if you&#x27;re curious, there&#x27;s a couple of open source rhythm games that I strongly recommend, they&#x27;re super fun but also open source, I&#x27;m talking about <a href="https://github.com/stepmania">StepMania</a> and the <a href="https://github.com/ppy/osu-framework">Osu-framework</a>. </p><h1>Citations</h1><ul><li>You can check Peer&#x27;s Play <a href="https://www.youtube.com/watch?v=5pmoP1ZOoNs&amp;list=PL3POsQzaCw53p2tA6AWf7_AWgplskR0Vo">playlist</a> for the basic implementation of the visualization script.</li><li>To understand how to track beats you can check b3agz&#x27; <a href="https://www.youtube.com/watch?v=gIjajeyjRfE">video</a>.</li><li>You can read about the Weber-Fechner Law in <a href="https://en.wikipedia.org/wiki/Weber%E2%80%93Fechner_law">Wikipedia</a>, that&#x27;s what I used as reference.</li></ul><p>Lastly, any of this wouldn&#x27;t be possible without my colleges Mika, Mario and Lucas, working with you guys was a pleasure and hopefully we&#x27;ll work together in another opportunity. Also thanks to our tutors and seniors back at <a href="https://www.turkugamelab.fi/">Turku Game Lab</a>, for me this experience was an eye-opener. </p><br/><p>PS: Repo is currently empty, but I plan to upload it soon.</p><!--astro:end--></astro-island> </div> <div class="_buttonContainer_pvvo9_143"> <a href="https://github.com/VintageStep/audio-scripts-unity" target="_blank" rel="noopener noreferrer" class="_projectButton_pvvo9_155"> Source Code </a> </div> </section> </main> <footer class="_footer_1ikox_1"> <div class="_content_1ikox_21"> <p class="_copyright_1ikox_31"> Thomas Ortega - learning computer programming since 2021 </p>  </div> </footer> </body></html> <script>(function(){const currentLang = "en";
const slug = "audio-programming-motion-tracking-game";
const projectMap = {"northwind-port-to-oracle-db":{"en":1,"es":2},"class-projects":{"en":3,"es":4},"audio-programming-motion-tracking-game":{"en":7}};

  document.addEventListener('astro:page-load', () => {
    const langSwitchers = document.querySelectorAll('.langSwitcher a');
    langSwitchers.forEach(switcher => {
      switcher.addEventListener('click', (e) => {
        e.preventDefault();
        const targetLang = switcher.getAttribute('data-lang');
        if (targetLang && slug && projectMap[slug]) {
          const targetId = projectMap[slug][targetLang];
          if (targetId) {
            window.location.href = `/${targetLang}/projects/${slug}/`;
          }
        }
      });
    });
  });
})();</script>